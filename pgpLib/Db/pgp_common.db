# The RAW data record and DO_CONFIG record.

record(waveform, "${BASE}:RAW")
{
   field(SCAN, "I/O Intr")
   field(DESC, "PGP waveform record")
   field(DTYP, "PGP")
   field(NELM, "${MAXSIZE}")
   field(FTVL, "ULONG")
   field(INP,  "@${BOX} ${LANE} ${VC} DATA")
   field(TSE,  "-2")
   field(FLNK, "${DATALNK}")
}

record(stringout, "${BASE}:BOX")
{
  field(DESC,  "PGPCARD name")
  field(SCAN,  "Passive")
  field(VAL,   "${BOX}")
}

record(dfanout, "${BASE}:DO_CONFIG")
{
  field(DESC,  "Start configuration")
  field(OUTA,  "${BASE}:CFG_DONE PP")
  field(OUTB,  "${BASE}:CFG_ERRS PP")
  field(FLNK,  "${BASE}:START_CFG")
}

record(aSub,  "${BASE}:START_CFG")
{
  field(DESC,  "Configure PGPCARD")
  field(SCAN,  "Passive")
  field(SNAM,  "PGPDoConfigure")
  field(INPA,  "${BASE}:BOX")
  field(FTA,   "STRING")
  field(OUTA,  "${BASE}:CFG_ERRS PP")
  field(FTVA,  "LONG")
  field(OUTB,  "${BASE}:CFG_DONE PP")
  field(FTVB,  "LONG")
  field(FLNK,  "${POSTCFG}")
}

record(longin, "${BASE}:CFG_DONE")
{
  field(DESC, "PGPCARD config complete")
  field(VAL,  "0")
}

record(longin, "${BASE}:CFG_ERRS")
{
  field(DESC, "PGPCARD configuration errors")
  field(VAL,  "0")
}
